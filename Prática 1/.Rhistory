library(readxl)
dados <- read_excel("Exemplo.xlsx") # Lê o arquivo Excel
head(dados) # Exibe as primeiras linhas do data frame
#visualizar a terceira aba do arquivo Excel
dados_aba3 <- read_excel("Exemplo.xlsx", sheet = 3) # Lê a terceira aba do arquivo Excel]
head(dados_aba3) # Exibe as primeiras linhas do data frame da terceira aba)
print(summary(dados_aba3)) # Fornece um resumo estatístico do data frame da terceira aba
#contando a quantidade de animais por nome
qtd_nome <- table(dados_aba3$Nome) # Conta a quantidade de animais por nome
print(qtd_nome) # Exibe a contagem de animais por nome
attach(dados_aba3) # Anexa o data frame para facilitar o acesso às colunas), itos é, disponibiliza as variáveis do banco de dados no R
Sexo = ordered(Sexo, levels = c("M", "F", "I")) # Define a variável Sexo como ordinal com níveis M e F
table(Sexo) # Conta a quantidade de animais por sexo
#Nome
table(Nome) # Conta a quantidade de animais por nome
#Destino
table(Destino) # Conta a quantidade de animais por destino
#para saber quantos animais por nome foram adotados
table(Nome, Destino) # Conta a quantidade de animais por nome e destino
tabela <-  table(Sexo)
addmargins(tabela, FUN=list(Total=sum)) # Adiciona margens à tabela de contagem de animais por sexo
prop.table(tabela)
round(prop.table(tabela)*100,1) # Calcula a proporção de animais por sexo e arredonda para 1 casa decimal
#para saber quantos animais de cada sexo foram adotados
tabela2 <- table(Sexo, Destino) # Conta a quantidade de animais por sexo e destino
addmargins(tabela2)
library(readxl)
dados <- read_excel("Exemplo.xlsx") # Lê o arquivo Excel
head(dados) # Exibe as primeiras linhas do data frame
#visualizar a terceira aba do arquivo Excel
dados_aba3 <- read_excel("Exemplo.xlsx", sheet = 3) # Lê a terceira aba do arquivo Excel]
head(dados_aba3) # Exibe as primeiras linhas do data frame da terceira aba)
print(summary(dados_aba3)) # Fornece um resumo estatístico do data frame da terceira aba
#contando a quantidade de animais por nome
qtd_nome <- table(dados_aba3$Nome) # Conta a quantidade de animais por nome
print(qtd_nome) # Exibe a contagem de animais por nome
attach(dados_aba3) # Anexa o data frame para facilitar o acesso às colunas), itos é, disponibiliza as variáveis do banco de dados no R
Sexo = ordered(Sexo, levels = c("M", "F", "I")) # Define a variável Sexo como ordinal com níveis M e F
table(Sexo) # Conta a quantidade de animais por sexo
#Nome
table(Nome) # Conta a quantidade de animais por nome
#Destino
table(Destino) # Conta a quantidade de animais por destino
#para saber quantos animais por nome foram adotados
table(Nome, Destino) # Conta a quantidade de animais por nome e destino
tabela <-  table(Sexo)
addmargins(tabela, FUN=list(Total=sum)) # Adiciona margens à tabela de contagem de animais por sexo
prop.table(tabela)
round(prop.table(tabela)*100,1) # Calcula a proporção de animais por sexo e arredonda para 1 casa decimal
#para saber quantos animais de cada sexo foram adotados
tabela2 <- table(Sexo, Destino) # Conta a quantidade de animais por sexo e destino
addmargins(tabela2)
prop.table(tabela2) # Calcula a proporção de animais por sexo e destino
library(readxl)
dados <- read_excel("Exemplo.xlsx") # Lê o arquivo Excel
head(dados) # Exibe as primeiras linhas do data frame
#visualizar a terceira aba do arquivo Excel
dados_aba3 <- read_excel("Exemplo.xlsx", sheet = 3) # Lê a terceira aba do arquivo Excel]
head(dados_aba3) # Exibe as primeiras linhas do data frame da terceira aba)
print(summary(dados_aba3)) # Fornece um resumo estatístico do data frame da terceira aba
#contando a quantidade de animais por nome
qtd_nome <- table(dados_aba3$Nome) # Conta a quantidade de animais por nome
print(qtd_nome) # Exibe a contagem de animais por nome
attach(dados_aba3) # Anexa o data frame para facilitar o acesso às colunas), itos é, disponibiliza as variáveis do banco de dados no R
Sexo = ordered(Sexo, levels = c("M", "F", "I")) # Define a variável Sexo como ordinal com níveis M e F
table(Sexo) # Conta a quantidade de animais por sexo
#Nome
table(Nome) # Conta a quantidade de animais por nome
#Destino
table(Destino) # Conta a quantidade de animais por destino
#para saber quantos animais por nome foram adotados
table(Nome, Destino) # Conta a quantidade de animais por nome e destino
tabela <-  table(Sexo)
addmargins(tabela, FUN=list(Total=sum)) # Adiciona margens à tabela de contagem de animais por sexo
prop.table(tabela)
round(prop.table(tabela)*100,1) # Calcula a proporção de animais por sexo e arredonda para 1 casa decimal
#para saber quantos animais de cada sexo foram adotados
tabela2 <- table(Sexo, Destino) # Conta a quantidade de animais por sexo e destino
addmargins(tabela2)
prop.table(tabela2)*100 # Calcula a proporção de animais por sexo e destino
library(readxl)
dados <- read_excel("Exemplo.xlsx") # Lê o arquivo Excel
head(dados) # Exibe as primeiras linhas do data frame
#visualizar a terceira aba do arquivo Excel
dados_aba3 <- read_excel("Exemplo.xlsx", sheet = 3) # Lê a terceira aba do arquivo Excel]
head(dados_aba3) # Exibe as primeiras linhas do data frame da terceira aba)
print(summary(dados_aba3)) # Fornece um resumo estatístico do data frame da terceira aba
#contando a quantidade de animais por nome
qtd_nome <- table(dados_aba3$Nome) # Conta a quantidade de animais por nome
print(qtd_nome) # Exibe a contagem de animais por nome
attach(dados_aba3) # Anexa o data frame para facilitar o acesso às colunas), itos é, disponibiliza as variáveis do banco de dados no R
Sexo = ordered(Sexo, levels = c("M", "F", "I")) # Define a variável Sexo como ordinal com níveis M e F
table(Sexo) # Conta a quantidade de animais por sexo
#Nome
table(Nome) # Conta a quantidade de animais por nome
#Destino
table(Destino) # Conta a quantidade de animais por destino
#para saber quantos animais por nome foram adotados
table(Nome, Destino) # Conta a quantidade de animais por nome e destino
tabela <-  table(Sexo)
addmargins(tabela, FUN=list(Total=sum)) # Adiciona margens à tabela de contagem de animais por sexo
prop.table(tabela)
round(prop.table(tabela)*100,1) # Calcula a proporção de animais por sexo e arredonda para 1 casa decimal
#para saber quantos animais de cada sexo foram adotados
tabela2 <- table(Sexo, Destino) # Conta a quantidade de animais por sexo e destino
addmargins(tabela2)
prop.table(tabela2, margin=1)*100 # Calcula a proporção de animais por sexo e destino
library(readxl)
dados <- read_excel("Exemplo.xlsx") # Lê o arquivo Excel
head(dados) # Exibe as primeiras linhas do data frame
#visualizar a terceira aba do arquivo Excel
dados_aba3 <- read_excel("Exemplo.xlsx", sheet = 3) # Lê a terceira aba do arquivo Excel]
head(dados_aba3) # Exibe as primeiras linhas do data frame da terceira aba)
print(summary(dados_aba3)) # Fornece um resumo estatístico do data frame da terceira aba
#contando a quantidade de animais por nome
qtd_nome <- table(dados_aba3$Nome) # Conta a quantidade de animais por nome
print(qtd_nome) # Exibe a contagem de animais por nome
attach(dados_aba3) # Anexa o data frame para facilitar o acesso às colunas), itos é, disponibiliza as variáveis do banco de dados no R
Sexo = ordered(Sexo, levels = c("M", "F", "I")) # Define a variável Sexo como ordinal com níveis M e F
table(Sexo) # Conta a quantidade de animais por sexo
#Nome
table(Nome) # Conta a quantidade de animais por nome
#Destino
table(Destino) # Conta a quantidade de animais por destino
#para saber quantos animais por nome foram adotados
table(Nome, Destino) # Conta a quantidade de animais por nome e destino
tabela <-  table(Sexo)
addmargins(tabela, FUN=list(Total=sum)) # Adiciona margens à tabela de contagem de animais por sexo
prop.table(tabela)
round(prop.table(tabela)*100,1) # Calcula a proporção de animais por sexo e arredonda para 1 casa decimal
#para saber quantos animais de cada sexo foram adotados
tabela2 <- table(Sexo, Destino) # Conta a quantidade de animais por sexo e destino
addmargins(tabela2)
prop.table(tabela2, margin=1)*100 # Calcula a proporção de animais por linha
prop.table(tabela2, margin=2)*100 # Calcula a proporção de animais por coluna
setwd("G:/Outros computadores/Meu laptop/GUILHERME/Doutorado/Disciplinas/Analise de Dados em R/Aula 1")
# Importando o banco de dados
library(readxl)
dados_atividade <- read_excel("dados_atividade.xlsx") # Lê o arquivo Excel
head(dados_atividade)
summary(dados_atividade)
cidade_table <- table(dados_atividade$`Cidade de origem`)
cidade_df <- as.data.frame(cidade_table)
cidade_df
minimo <- min(dados_atividade$`Número de consultas`, na.rm = TRUE)
media  <- round(mean(dados_atividade$`Número de consultas`, na.rm = TRUE),2)
maximo <- max(dados_atividade$`Número de consultas`, na.rm = TRUE)
print(paste("No geral, o número mínimo de consultas foi de", minimo, "; média:", media, "; máximo:", maximo))
cidade <- dados_atividade$`Cidade de origem`
num_consultas <- as.numeric(dados_atividade$`Número de consultas`)
min_by_cidade  <- tapply(num_consultas, cidade, min,  na.rm = TRUE)
mean_by_cidade <- tapply(num_consultas, cidade, mean, na.rm = TRUE)
max_by_cidade  <- tapply(num_consultas, cidade, max,  na.rm = TRUE)
resultado <- data.frame(
cidade = names(min_by_cidade),
minimo = as.numeric(min_by_cidade),
media  = round(as.numeric(mean_by_cidade),2),
maximo = as.numeric(max_by_cidade),
row.names = NULL
)
resultado
# Idade
idade <- as.numeric(dados_atividade[[4]])
media_idade <- round(mean(idade, na.rm = TRUE),2)
mediana_idade <- median(idade, na.rm = TRUE)
desvio_idade <- round(sd(idade, na.rm = TRUE),2)
quartis_idade <- quantile(idade, probs = c(0.25, 0.5, 0.75), na.rm = TRUE)
print(paste("Idade - Média:", media_idade, "; Mediana:", mediana_idade, "; Desvio-padrão:", desvio_idade, "; Quartis:", paste(quartis_idade, collapse = ", ")))
# Peso
peso <- as.numeric(dados_atividade[[5]])
media_peso <- round(mean(peso, na.rm = TRUE),2)
mediana_peso <- median(peso, na.rm = TRUE)
desvio_peso <- round(sd(peso, na.rm = TRUE),2)
quartis_peso <- quantile(peso, probs = c(0.25, 0.5, 0.75), na.rm = TRUE)
print(paste("Peso - Média:", media_peso, "; Mediana:", mediana_peso, "; Desvio-padrão:", desvio_peso, "; Quartis:", paste(quartis_peso, collapse = ", ")))
stats_idade_peso <- data.frame(
Variavel       = c("Idade", "Peso"),
Media          = c(media_idade,  media_peso),
Mediana        = c(mediana_idade, mediana_peso),
`Desvio-padrao`= c(desvio_idade, desvio_peso),
Q1             = c(unname(quartis_idade[1]), unname(quartis_peso[1])),
Q3             = c(unname(quartis_idade[3]), unname(quartis_peso[3])),
check.names = FALSE
)
print(stats_idade_peso)
#Porcentagem por nível de tabagismo
tab_tabag <- table(dados_atividade$Tabagismo, useNA = "no")
pct_tabag <- round(100 * prop.table(tab_tabag), 2)
#Porcentagem por nível de atividade física
tab_ativ <- table(dados_atividade$`Realiza atividade física`, useNA = "no")
pct_ativ <- round(100 * prop.table(tab_ativ), 2)
pct_tabag_df <- data.frame(
Nivel_Tabagismo = names(pct_tabag),
Percentual_total = as.numeric(pct_tabag),
row.names = NULL,
check.names = FALSE
)
pct_ativ_df <- data.frame(
Atividade_fisica = names(pct_ativ),
Percentual_total = as.numeric(pct_ativ),
row.names = NULL,
check.names = FALSE
)
# Tabela cruzada: Tabagismo x Atividade física
cross <- table(dados_atividade$Tabagismo, dados_atividade$`Realiza atividade física`, useNA = "no")
# dentre os que são, foram, ou nunca foram tabagistas, qual a % que realiza ou não atividade física
pct_por_linha <- round(100 * prop.table(cross, margin = 1), 2)
# dentre quem pratica atividade física ou não, qual a % que são, foram, ou nunca foram tabagistas
pct_por_col   <- round(100 * prop.table(cross, margin = 2), 2)
cross_pct_linha_df <- as.data.frame(pct_por_linha)
names(cross_pct_linha_df) <- c("Tabagismo", "Atividade_fisica", "Percentual_por_tabagismo")
cross_pct_linha_df
cross_pct_col_df <- as.data.frame(pct_por_col)
names(cross_pct_col_df) <- c("Tabagismo", "Atividade_fisica", "Percentual_por_atividade")
cross_pct_col_df
pct_tabag_df <- data.frame(
Nivel_Tabagismo = names(pct_tabag),
Percentual_total = as.numeric(pct_tabag),
row.names = NULL,
check.names = FALSE
)
pct_tabag
pct_ativ_df <- data.frame(
Atividade_fisica = names(pct_ativ),
Percentual_total = as.numeric(pct_ativ),
row.names = NULL,
check.names = FALSE
)
pct_ativ
# pct_tabag_df <- data.frame(
#   Nivel_Tabagismo = names(pct_tabag),
#   Percentual_total = as.numeric(pct_tabag),
#   row.names = NULL,
#   check.names = FALSE
# )
pct_tabag_df  <- as.data.frame(pct_tabag)
names(pct_tabag_df) <- c("Ex-Tabagista", "Nunca", "Sim")
# pct_tabag_df <- data.frame(
#   Nivel_Tabagismo = names(pct_tabag),
#   Percentual_total = as.numeric(pct_tabag),
#   row.names = NULL,
#   check.names = FALSE
# )
pct_tabag_df  <- as.data.frame(pct_tabag)
names(pct_tabag_df) <- c("Ex-Tabagista", "Nunca", "Sim")
pct_tabag_df <- data.frame(
Nivel_Tabagismo = namesc("Ex-Tabagista", "Nunca", "Sim"),
Percentual_total = as.numeric(pct_tabag),
row.names = NULL,
check.names = FALSE
)
pct_tabag_df <- data.frame(
Nivel_Tabagismo = names("Ex-Tabagista", "Nunca", "Sim"),
Percentual_total = as.numeric(pct_tabag),
row.names = NULL,
check.names = FALSE
)
pct_tabag_df <- data.frame(
Nivel_Tabagismo = names(pct_tabag),
Percentual_total = as.numeric(pct_tabag),
row.names = NULL,
check.names = FALSE
)
pct_tabag
pct_ativ_df <- data.frame(
Atividade_fisica = names(pct_ativ),
Percentual_total = as.numeric(pct_ativ),
row.names = NULL,
check.names = FALSE
)
pct_ativ
cross_sexo_atv <- table(dados_atividade$Sexo, dados_atividade$`Realiza atividade física`, useNA = "no")
cross_sexo_atv <- table(dados_atividade$Sexo, dados_atividade$`Realiza atividade física`, useNA = "no")
pct_por_sexo <- round(100 * prop.table(cross_sexo_atv, margin = 1), 2)
df_pct_por_sexo <- as.data.frame(tab)
cross_sexo_atv <- table(dados_atividade$Sexo, dados_atividade$`Realiza atividade física`, useNA = "no")
pct_por_sexo <- round(100 * prop.table(cross_sexo_atv, margin = 1), 2)
df_pct_por_sexo <- as.data.frame(cross_sexo_atv)
names(contagens_df) <- c("Sexo", "Atividade_fisica", "n")
cross_sexo_atv <- table(dados_atividade$Sexo, dados_atividade$`Realiza atividade física`, useNA = "no")
pct_por_sexo <- round(100 * prop.table(cross_sexo_atv, margin = 1), 2)
df_pct_por_sexo <- as.data.frame(cross_sexo_atv)
contagens_df <- as.data.frame(cross_sexo_atv)
names(contagens_df) <- c("Sexo", "Atividade_fisica", "n")
cross_sexo_atv <- table(dados_atividade$Sexo, dados_atividade$`Realiza atividade física`, useNA = "no")
pct_por_sexo <- round(100 * prop.table(cross_sexo_atv, margin = 1), 2)
df_pct_por_sexo <- as.data.frame(cross_sexo_atv)
contagens_df <- as.data.frame(cross_sexo_atv)
names(contagens_df) <- c("Sexo", "Atividade_fisica", "n")
percent_df <- as.data.frame(pct_por_sexo)
names(percent_df) <- c("Sexo", "Atividade_fisica", "Percentual_por_sexo")
cross_sexo_atv <- table(dados_atividade$Sexo, dados_atividade$`Realiza atividade física`, useNA = "no")
pct_por_sexo <- round(100 * prop.table(cross_sexo_atv, margin = 1), 2)
df_pct_por_sexo <- as.data.frame(cross_sexo_atv)
contagens_df <- as.data.frame(cross_sexo_atv)
names(contagens_df) <- c("Sexo", "Atividade_fisica", "n")
percent_df <- as.data.frame(pct_por_sexo)
names(percent_df) <- c("Sexo", "Atividade_fisica", "Percentual_por_sexo")
resultado <- merge(contagens_df, percent_df, by = c("Sexo", "Atividade_fisica"))
# Visualizações rápidas:
tab                 # contagens
cross_sexo_atv <- table(dados_atividade$Sexo, dados_atividade$`Realiza atividade física`, useNA = "no")
pct_por_sexo <- round(100 * prop.table(cross_sexo_atv, margin = 1), 2)
df_pct_por_sexo <- as.data.frame(cross_sexo_atv)
contagens_df <- as.data.frame(cross_sexo_atv)
names(contagens_df) <- c("Sexo", "Atividade_fisica", "n")
percent_df <- as.data.frame(pct_por_sexo)
names(percent_df) <- c("Sexo", "Atividade_fisica", "Percentual_por_sexo")
resultado <- merge(contagens_df, percent_df, by = c("Sexo", "Atividade_fisica"))
# Visualizações rápidas:
cross_sexo_atv                 # contagens
pct_por_sexo        # % por sexo (linhas)
resultado           # data.frame com n e %
cross_sexo_atv <- table(dados_atividade$Sexo, dados_atividade$`Realiza atividade física`, useNA = "no")
pct_por_sexo <- round(100 * prop.table(cross_sexo_atv, margin = 1), 2)
df_pct_por_sexo <- as.data.frame(cross_sexo_atv)
contagens_df <- as.data.frame(cross_sexo_atv)
names(contagens_df) <- c("Sexo", "Atividade_fisica", "n")
percent_df <- as.data.frame(pct_por_sexo)
names(percent_df) <- c("Sexo", "Atividade_fisica", "Percentual_por_sexo")
resultado <- merge(contagens_df, percent_df, by = c("Sexo", "Atividade_fisica"))
resultado           # data.frame com n e %
knitr::opts_chunk$set(echo = TRUE)
